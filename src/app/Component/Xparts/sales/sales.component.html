<div>
    <app-header></app-header>
</div>
<div class="d-flex justify-content-center mt-5 text-primary" *ngIf="flag_1">
    <span style="font-size: x-large;"></span>
    <div class="spinner-border text-primary" role="status">
        <span class="sr-only"></span>
    </div>
</div>


<div *ngIf="!flag_1">
    <div>
        <!-- form -->
        <div class="container mt-3">
            <form [formGroup]=" salesForm">

                <div class="row my-3">
                    <!-- Date -->
                    <div class="form-group row">
                        <div class="col-10">
                            <input type="date" class="form-control" id="_date" formControlName="Date">
                        </div>
                    </div>
                </div>
                <div class="row my-3">
                    <!-- Hours -->
                    <div class="form-group row">
                        <label for="_hour" class="col-2 col-form-label">वेळ</label>
                        <div class="col-10">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="mor" value="Morning"
                                    formControlName="Hour">
                                <label class="form-check-label" for="mor">सकाळ </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="env" value="Evening"
                                    formControlName="Hour">
                                <label class="form-check-label" for="env">संध्याकाळ</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row my-3">
                    <!-- Type -->
                    <div class="form-group row">
                        <label for="_type" class="col-2 col-form-label">प्रकार</label>
                        <div class="col-10">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="buff" value="Buffalow"
                                    formControlName="Type">
                                <label class="form-check-label" for="buff">म्हैस</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="cow" value="Cow"
                                    formControlName="Type">
                                <label class="form-check-label" for="cow">गाय</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row my-3">
                    <div class="col">
                        <!-- Milk -->
                        <div class="form-group row">
                            <label for="_milk" class="col-2 col-form-label">दूध:</label>
                            <div class="col-10">
                                <input type="number" class="mx-2 form-control" id="_milk" formControlName="Milk"
                                    (keyup)="calcu()">
                            </div>
                        </div>
                    </div>
                    <div class="col">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <!-- Rate -->
                        <div class="form-group row">
                            <label for="_rate" class="col-3 col-form-label">दर/लिटर:</label>
                            <div class="col-4">
                                <input type="number" class=" form-control" id="_rate" formControlName="Rate"
                                    (keyup)="calcu()">
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row my-3">
                    <div class="col">
                        <!-- TotalRate -->
                        <div class="form-group row">
                            <label for="_trate" class="col-3">एकूण दर:</label>
                            <div class="col-4">
                                <input type="number" class=" form-control" id="_trate" formControlName="totalRate">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center my-2">
                    <!-- Button -->
                    <button class="btn btn-info" (click)="onSave()" [disabled]=" !this.salesForm.valid || onClickReg"
                        *ngIf="!onClickReg">
                        OKAY
                    </button>
                    <button class="btn btn-info text-white" type="button" disabled *ngIf="onClickReg">
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        OKAY
                    </button>
                </div>
                <div *ngIf="err" class="d-flex justify-content-center">
                    <small class="text-danger">*काहीतरी चूक झाली आहे कृपया रिफ्रेश करा!!</small>
                </div>
            </form>
        </div>
        <div class="table-responsive">
            <table class="table 
             table-striped">
                <thead>
                    <tr>
                      <th>तारीख</th>
                      <th>वेळ</th>
                      <th>प्रकार</th>
                      <th>दूध</th>
                      <th>दर</th>
                      <th>रक्कम</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let temp of data| orderBy: order ">
                      <td>{{temp.date|trimdate}} </td>
                      <td>{{temp.hours|trimhours}}</td>
                      <td>{{temp.milk}}</td>
                      <td>{{temp.fat}}</td>
                      <td>{{temp.snf}}</td>
                      <td>{{temp.rate}}</td>
                      <td>{{temp.t_rate}}</td>
                    </tr>
                    
                  </tbody>
                  
            </table>
            <div *ngIf="getErr" class="d-flex justify-content-center ">
                    <h4 class="text-danger">*माहिती उपलब्ध नाही</h4>
                </div>
        </div>
    </div>
</div>
